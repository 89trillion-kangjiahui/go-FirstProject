# 整体框架
```text
首先通过前端获取算数表达式，这时获得的表达式为中缀表达式。利用切片数据结构做一个栈结构。
利用栈结构将中缀表达式转换为后缀表达式。利用栈结构计算后缀表达式，最后将结果返回给前端。

中缀表达式转为后缀表达式的过程：
从左到右逐个字符遍历中缀表达式，
遇到数字后判断下一个是否为数字是的话继续遍历，直到遇到非数字将其拼接为string追加到栈中。
遇到运算符则判断：栈顶运算符优先级更低则入栈，更高或相等则直接输出
中缀表达式遍历完毕，运算符栈不为空则全部弹出，依次追加到输出，流程图如下：
```

# 目录结构
```text
.
├── README.md             //技术文档
├── controller            
│   └── getResult.go      //接收http请求并返回响应
├── doc
│   └── img.png           //存储.md中引用的图片
├── dto
│   └── calRet.go         //返回数据的格式
├── go.mod
├── route
│   └── route.go          //路由管理
├── load
│   ├── project2_test.py  //压力测试代码
│   └── report2.html      //压力测试报告
├── main
│   └── main.go           //启动文件
├── stack
│   └── stack.go          //利用切片实现的栈结构
├── test
│   └── adminService_test.go    //单元测试计算机功能
└── util
    └── calculater.go     //将中缀表达式专为后缀表达式，并计算结果
```
# 代码逻辑分层
层|文件夹|主要职责
------------ | ------------- | ------------- 
应用层|controller|负责接收请求和返回响应
dto层|dto|封装返回结果
数据结构层|stack|实现栈的数据结构
单元测试层|test|测试计算器是否功能正常
工具层|util|计算器的主要功能
路由管理层|route|管理路由
启动层|main|启动项目，调用应用层处理http请求
压力测试层|load|测试项目的压力

# 存储设计
### 返回结果封装为Result结构：状态码，信息，数据
内容|field|类型
------------ | ------------- | ------------- 
状态码|Code|int
信息|Msg|string
数据|Data|int

### 状态码和对应的信息
状态码|信息
------------ | -------------
200|"计算成功"
4001|"表达式不能为空"
4002|"你输入的算法表达式不正确"

# 接口设计
### 计算中缀表达式，返回结果
### http请求方法：
http  GET
### 接口地址：
localhost:8000/cal/getRet
### 请求参数：
参数名|参数类型|注释
------------ | ------------- | -------------
exp|string|算数表达式
### 请求响应：
响应结果为json数据，数据格式如下：
参数名|参数类型|注释
------------ | ------------- | -------------
Code|int|状态码
Msg|string|信息
Data|int|计算结果

```java
{
    "code":200,
    "msg":"计算成功",
    "data":5
}
```
响应状态码：
状态码|说明
------------ | ------------- 
200|"计算成功"
4001|"你输入的表达式为空"

# 第三方库
### gin
```text
github.com/gin-gonic/gin
使用gin框架获取http请求以及返回http响应
```
